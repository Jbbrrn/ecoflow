CREATE TABLE device_commands (
    command_id INT AUTO_INCREMENT PRIMARY KEY,
    device ENUM('pump', 'valve') NOT NULL,
    desired_state ENUM('ON', 'OFF') NOT NULL,
    actual_state ENUM('ON', 'OFF') DEFAULT NULL,
    status ENUM('PENDING', 'SUCCESS', 'FAILED') DEFAULT 'PENDING',
    requested_by INT NOT NULL,
    requested_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    executed_at TIMESTAMP NULL,
    FOREIGN KEY (requested_by) REFERENCES users(user_id)
);
